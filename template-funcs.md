# üìò Intrinsic —Ñ—É–Ω–∫—Ü–∏–∏ AWS CloudFormation / SAM

| –§—É–Ω–∫—Ü–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|----------|-------------|------------------|--------------------|
| **!Ref** | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Å—ã–ª–∫—É (ID, –∏–º—è –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞) | `BucketName: !Ref MyBucket` | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∏–º—è/–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–µ—Å—É—Ä—Å–∞ –∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ |
| **!GetAtt** | –ü–æ–ª—É—á–∞–µ—Ç –∞—Ç—Ä–∏–±—É—Ç —Ä–µ—Å—É—Ä—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ARN, Endpoint, HostedZoneId) | `DBHost: !GetAtt MyDB.Endpoint.Address` | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ —Ä–µ—Å—É—Ä—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ARN –±–∞–∑—ã) |
| **!Sub** | –ü–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Å—Ç—Ä–æ–∫—É | `TopicArn: !Sub arn:aws:sns:${AWS::Region}:${AWS::AccountId}:my-topic` | –î–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è ARN, URL, –∏–º—ë–Ω –∏ –ø—É—Ç–µ–π |
| **!Join** | –û–±—ä–µ–¥–∏–Ω—è–µ—Ç —Å—Ç—Ä–æ–∫–∏ —á–µ—Ä–µ–∑ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å | `!Join [ "-", [ "app", "dev", "bucket" ] ]` | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å —Å—Ç—Ä–æ–∫—É –∏–∑ —á–∞—Å—Ç–µ–π |
| **!ImportValue** | –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ, —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–∑ –¥—Ä—É–≥–æ–≥–æ —Å—Ç–µ–∫–∞ | `VpcId: !ImportValue MyNetworkStack-VPCID` | –î–ª—è —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ CloudFormation-—Å—Ç–µ–∫–∞–º–∏ |
| **!Select** | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ –ø–æ –∏–Ω–¥–µ–∫—Å—É | `!Select [ 0, !GetAZs '' ]` | –î–ª—è –≤—ã–±–æ—Ä–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ (–∑–æ–Ω—ã, –ø–æ–¥—Å–µ—Ç–∏ –∏ —Ç.–ø.) |
| **!GetAZs** | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∑–æ–Ω –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ä–µ–≥–∏–æ–Ω–∞ | `!GetAZs ''` | –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö –∑–æ–Ω–∞—Ö |
| **!If** | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å–ª–æ–≤–∏—è | `!If [IsProd, "prod-db", "dev-db"]` | –î–ª—è –≤—ã–±–æ—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏—è |
| **!Equals** | –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–∏—è | `!Equals [!Ref EnvType, "prod"]` | –î–ª—è –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —É—Å–ª–æ–≤–∏–π |
| **!Not** | –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –æ—Ç—Ä–∏—Ü–∞–Ω–∏–µ | `!Not [!Equals [!Ref EnvType, "prod"]]` | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–∏–µ |
| **!And** | –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò | `!And [!Condition IsProd, !Condition IsEU]` | –î–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π |
| **!Or** | –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ò–õ–ò | `!Or [!Condition IsProd, !Condition IsTest]` | –î–ª—è —É—Å–ª–æ–≤–∏–π, –≥–¥–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–¥–Ω–æ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è |
| **!Base64** | –ö–æ–¥–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫—É –≤ Base64 | `UserData: !Base64 "echo Hello World"` | –î–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –≤ EC2 UserData |
| **!FindInMap** | –ë–µ—Ä—ë—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `Mappings` –ø–æ –∫–ª—é—á–∞–º | `!FindInMap [RegionMap, !Ref AWS::Region, AMI]` | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ä–µ–≥–∏–æ–Ω–æ–≤ |
| **!Split** | –î–µ–ª–∏—Ç —Å—Ç—Ä–æ–∫—É –Ω–∞ –º–∞—Å—Å–∏–≤ | `!Split [",", "one,two,three"]` | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É –≤ —Å–ø–∏—Å–æ–∫ |
| **!Cidr** | –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç CIDR-–±–ª–æ–∫–∏ –∏–∑ –±–∞–∑–æ–≤–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ | `!Cidr [!Ref VpcCidr, 4, 8]` | –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–±–∏–µ–Ω–∏—è —Å–µ—Ç–µ–π |
| **!Condition** | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏—è | `Condition: IsProd` | –ö–æ–≥–¥–∞ —Ä–µ—Å—É—Ä—Å –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è –Ω–µ –≤—Å–µ–≥–¥–∞ |
| **!Sub (Map)** | –ü–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —à–∞–±–ª–æ–Ω | `!Sub [ "arn:aws:s3:::${Bucket}", { Bucket: !Ref MyBucket } ]` | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —è–≤–Ω–æ –∑–∞–¥–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö |
| **!Transform** | –ü–æ–¥–∫–ª—é—á–∞–µ—Ç –º–∞–∫—Ä–æ—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, SAM) | `Transform: AWS::Serverless-2016-10-31` | –î–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ SAM –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –º–∞–∫—Ä–æ—Å–æ–≤ |
| **!Ref AWS::Region** | –ü—Å–µ–≤–¥–æ–ø–∞—Ä–∞–º–µ—Ç—Ä: —Ä–µ–≥–∏–æ–Ω —Å—Ç–µ–∫–∞ | `!Ref AWS::Region` | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–≥–∏–æ–Ω –≤ —à–∞–±–ª–æ–Ω–µ |
| **!Ref AWS::AccountId** | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç ID –∞–∫–∫–∞—É–Ω—Ç–∞ AWS | `!Ref AWS::AccountId` | –î–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è ARN –∏ —Å—Å—ã–ª–æ–∫ |
| **!Ref AWS::StackName** | –ò–º—è —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–µ–∫–∞ CloudFormation | `!Ref AWS::StackName` | –ö–æ–≥–¥–∞ –∏–º—è —Å—Ç–µ–∫–∞ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —á–∞—Å—Ç—å —Ä–µ—Å—É—Ä—Å–∞ |

